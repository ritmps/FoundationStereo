name: foundation_stereo
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults
dependencies:
  - python=3.11
  # Install PyTorch stack via conda so it's available before building flash-attn.
  # Pin CUDA 12.1 toolkit through pytorch-cuda to match torch 2.4.1 wheels.
  - pytorch==2.4.1
  - torchvision==0.19.1
  - torchaudio==2.4.1
  - pytorch-cuda=12.1
  - pip
  - pip:
    - scikit-image
    - omegaconf
    - opencv-contrib-python
    - imgaug
    - ninja
    - timm
    - albumentations
    - jupyterlab
    - scipy
    - joblib
    - scikit-learn
    - ruamel.yaml
    - trimesh
    - pyyaml
    - imageio
    - imagecodecs
    - OpenEXR
    - Imath
    - open3d
    - transformations
    - einops
    - gdown
    - nodejs
    - xformers==0.0.28.post1
    - huggingface-hub
  # flash-attn intentionally omitted: install manually with --no-build-isolation after env creation.
